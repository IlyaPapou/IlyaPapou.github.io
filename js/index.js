!function(o){var t=document.getElementById("body");t.style.overflow="hidden";for(var n,e,d=document.getElementById("preloader"),i=document.getElementById("preloader-percent"),l=document.getElementById("video-header"),a=document.getElementById("video-photo"),s=document.getElementById("video-anim"),c=document.getElementById("navbar-header"),r=document.getElementById("toPort"),m=document.getElementById("toPort2"),f=document.getElementById("toPhoto"),p=document.getElementById("toInfo"),u=o("#video-anim"),g=o("#video-photo"),y=o("#info"),h=o(".navbar"),v=u.offset().top,E=g.offset().top,b=y.offset().top,w=h.offset().top,I=v-o(window).height(),B=E-o(window).height(),T=document.images,L=T.length,x=0,k=0,C=0,P=0,j=0;j<L;j++)(e=new Image).onload=Q,e.onerror=Q,e.src=T[j].src;function Q(){C++,i.innerHTML=100/L*C<<0,L<=C&&setTimeout(function(){function e(e){o("body").toggleClass("open"),o("html,body").animate({scrollTop:o(e).offset().top},1e3,"swing")}d.classList.contains("done")||(d.classList.add("done"),t.style.overflow="",document.getElementById("preloader").remove()),o("button").on("click",function(){o("body").toggleClass("open")}),jQuery("#gallery").unitegallery(),o(".modal").on("shown.bs.modal",function(e){o("body").addClass("modal-open")}),o(document).scroll(function(){n=o(this).scrollTop(),P=1,l.loop=!0,0===n?l.play():l.pause(),I<n&&0===x&&(console.log(n,I),o("html,body").animate({scrollTop:o("#video-anim").offset().top},1e3,"swing"),x=1),B<n&&0===k&&(o("html,body").animate({scrollTop:o("#video-photo").offset().top},1e3,"swing"),k=1),n<v&&(c.innerText="Видео"),n<E&&v<n&&(c.innerText="Анимация"),n<b&&E<n&&(c.innerText="Фото"),w-n<0&&h.addClass("fixed")}),l.addEventListener("ended",function(e){0===P&&o("html,body").animate({scrollTop:o("#portfolio").offset().top},1e3,"swing")},!1),s.addEventListener("ended",function(e){1===x&&(o("html,body").animate({scrollTop:o("#portfolio2").offset().top},1e3,"swing"),x=2,s.loop=!0)},!1),a.addEventListener("ended",function(e){1===k&&(o("html,body").animate({scrollTop:o("#photo-gallery").offset().top},1e3,"swing"),a.loop=!0,k=2)},!1),r.addEventListener("click",function(){e("#portfolio")},!1),m.addEventListener("click",function(){e("#portfolio2")},!1),f.addEventListener("click",function(){e("#photo-gallery")},!1),p.addEventListener("click",function(){e("#info")},!1),o(".carousel").each(function(){o(this).carousel({interval:!1})}),o("a.portfolio-link").hover(function(){o(this).children().last().animate({padding:"25px"})},function(){o(this).children().last().animate({padding:"25px 25px 25px 0"})})},500)}}(jQuery);